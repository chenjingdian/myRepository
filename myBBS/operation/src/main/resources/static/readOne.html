<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="app">
    <h1>{{name}}欢迎来到 myBBS !</h1>

    作者:{{article.userName}}<br>
    标题:{{article.title}}><br>

</div>
</body>
<script src="js/axios.js"></script>
<script src="js/util.js"></script>
<script src="js/all.js"></script>
<script src="js/vue.js"></script>
<script>

    parm = window.location.href.split("?")[1].split("=")[1];


    let vue = new Vue({
        el: '#app',
        data: {
            name: "",
            article:{}
        },
        //钩子函数，VUE对象初始化完成后自动执行
        created() {
            axios.get('/user/welcome').then(res => {
                if (res.data.flag) {
                    this.name = res.data.message;
                }
            })
        },
        methods: {}
    });

    window.onload = function(){
        axios.get('/read/getone?id='+parm).then(res=>{
            if (res.data.flag) {
                vue.article = res.data.data;
            }
        })
    };
</script>
</html>